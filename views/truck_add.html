<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="../stylesheets/bootstrap.min.css" media="screen">
    <style type="text/css">
    .m15{ margin: 15px;}
     .tc{ text-align: center;font-size: 18px;font-weight: 600;}
    </style>
    <link href="//cdn.bootcss.com/tether/1.3.6/css/tether.min.css" rel="stylesheet">
    <script src="//cdn.bootcss.com/tether/1.3.6/js/tether.min.js"></script>
</head>
<body screen_capture_injected="true">
    <div class="container">
    <%- message %>
        <form class="col-sm-offset-4 col-sm-4 form-horizontal" role="form" method="post" onsubmit="return false">
            <fieldset>
                <legend></legend>
                <div class="panel panel-default">
                <div class="panel-heading">
                    <p class="tc">添加卡车</p>
                </div>
                <div class="panel-body m15">
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-user"></span>
                        </span>
                        <input type="text" class="form-control" id="truckname" name="truckname" placeholder="卡车的名字" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-user"></span>
                        </span>
                        <input type="text" class="form-control" id="vin" name="vin" placeholder="汽车制造识别码" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="license_plate" name="license_plate" placeholder="牌照" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="vehicle_license" name="vehicle_license" placeholder="行驶证" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="vehicle_license_screen_url" name="vehicle_license_screen_url" placeholder="行驶证照片" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="driver_id" name="driver_id" placeholder="司机ID" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="self_weight" name="self_weight" placeholder="自重" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="brand" name="brand" placeholder="品牌" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="bear_part_length" name="bear_part_length" placeholder="载重部长度" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="bear_part_width" name="bear_part_width" placeholder="载重部宽度" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="bear_part_height" name="bear_part_height" placeholder="载重部高度" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="type" name="type" placeholder="卡车类型" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="eval_level" name="eval_level" placeholder="等级" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="status" name="status" placeholder="状态" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="vehicle_thumb_url" name="vehicle_thumb_url" placeholder="缩略图" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="loc_longitude" name="loc_longitude" placeholder="当前位置经度" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="loc_latitude" name="loc_latitude" placeholder="当前位置纬度" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="desc" name="desc" placeholder="描述" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                        <span class="glyphicon glyphicon-lock"></span>
                        </span>
                        <input type="text" class="form-control" id="desc_pic_url" name="desc_pic_url" placeholder="描述图片" required>
                    </div>
                </div>
                <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block" id="AddTruck0"> 添加 </button>
                </div>
                <div class="form-group">
                        <button type="button" class="btn btn-info col-sm-2 col-sm-offset-10" id="QueryMine0">我的卡车</button>
                </div>
                </div>
                </div>
            </fieldset>
        </form>
    </div>

    <script type="text/javascript" src="../javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="../javascripts/bootstrap.min.js"></script>
    <script type="text/javascript">
    $(function(){ 
        $("#QueryMine0").click(function(){ 
            location.href = '/truck/my';
        });
        $("#AddTruck0").click(function(){ 
            var truckname = $("#truckname").val();
            var vin = $("#vin").val();
            var license_plate = $("#license_plate").val();
            var vehicle_license = $("#vehicle_license").val();
            var vehicle_license_screen_url = $("#vehicle_license_screen_url").val();
            var driver_id = $("#driver_id").val();
            var self_weight = $("#self_weight").val();
            var brand = $("#brand").val();
            var bear_part_length = $("#bear_part_length").val();
            var bear_part_width = $("#bear_part_width").val();
            var bear_part_height = $("#bear_part_height").val();
            var type = $("#type").val();
            var eval_level = $("#eval_level").val();
            var status = $("#status").val();
            var vehicle_thumb_url = $("#vehicle_thumb_url").val();
            var loc_longitude = $("#loc_longitude").val();
            var loc_latitude = $("#loc_latitude").val();
            var desc = $("#desc").val();
            var desc_pic_url = $("#desc_pic_url").val();
            
            var data = {
            		"vin":vin,
            		"license_plate":license_plate,
            		"vehicle_license":vehicle_license,
            		"vehicle_license_screen_url":vehicle_license_screen_url,
            		"driver_id":driver_id,
            		"self_weight":self_weight,
            		"brand":brand,
            		"bear_part_length":bear_part_length,
            		"bear_part_width":bear_part_width,
            		"bear_part_height":bear_part_height,
            		"type":type,
            		"eval_level":eval_level,
            		"status":status,
            		"vehicle_thumb_url":vehicle_thumb_url,
            		"loc_longitude":loc_longitude,
            		"loc_latitude":loc_latitude,
            		"desc":desc,
            		"desc_pic_url":desc_pic_url,
            		"name":truckname
            		};
            $.ajax({ 
                url:'/truck/create_truck',
                type:'post',
                data: data,
                success: function(data,status){ 
                    if(status == 'success'){ 
                        location.href = '/truck/my';
                    }
                },
                error: function(data,status){ 
                    if(status == 'error'){ 
                        location.href = '/truck/add';
                    }
                }
            });
        });
    });
    </script>
</body>
</head>
</html>